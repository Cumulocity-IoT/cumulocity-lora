"use strict";!function(){function t(e,t,n,s){var o={values:{},stored:!1};function i(t){o.stored=0<_.keys(t).length,o.values=t}_.assign(this,{$onInit:function(){n.getSettings().then(i)},settings:o,save:function(){var t=_.transform(o.values,function(t,e,n){_.get(o.form,"".concat(n,".$dirty"))&&(t[n]=e)},{});return n.saveSettings(t).then(function(){o.stored=!0,o.form.$setPristine(),o.form.$setUntouched(),e.success(s("Credentials updated."))})},remove:function(){return t({title:s("Delete credentials"),body:s("You are about to delete your IMPACT credentials. Deleting credentials will break connection to IMPACT instance. Do you want to proceed?"),status:"danger",labels:{ok:s("Delete")}}).then(function(){return n.removeSettings().then(function(){o.values={},o.stored=!1,o.form.$setPristine(),o.form.$setUntouched(),e.success(s("Credentials deleted."))})})}})}t.$inject=["c8yAlert","c8yModal","impactSettingsSvc","gettext"],angular.module("c8y.impactSettings").component("impactSettings",{templateUrl:":::PLUGIN_PATH:::/impactSettings.html",controller:t,controllerAs:"vm"})}();