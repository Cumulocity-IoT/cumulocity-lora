"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var r=[],n=!0,c=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){c=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(c)throw i}}return r}}function _arrayWithHoles(t){if(Array.isArray(t))return t}angular.module("c8y.sdk").directive("c8yRepeat",["$injector","$compile","$rootScope",function(u,s,y){function e(l){return function(e,r,n){var c,i,o,a=l;function t(){y.c8y&&y.c8y.user&&function(){var t=e.filter||{};return u.get("c8y".concat(function(t){return t[0].toUpperCase()+t.slice(1)}(c))).list(t)}().then(function(t){o.__c8y_serviceResult=t})}!function(){var t=/^\s*([^\s]+)\s*in\s*([^\s]+)\s*/.exec(n.c8yRepeat),e=_slicedToArray(t,2)[1];c=t[2],a.removeAttr("c8y-repeat"),a.removeAttr("data-c8y-repeat"),a.attr("ng-repeat","".concat(e," in __c8y_serviceResult track by ").concat(e,".id")),i=s(a),$(r).replaceWith(a)}(),o=e.$parent,i(o),e.refresh=t,y.$on("c8y.api.login",function(){t()}),e.$watch("filter",t,!0)}}return{restrict:"A",compile:function(t){return e($(t).clone())},transclude:!1,scope:{filter:"=?",refresh:"=?"}}}]);