<c8y-title translate>Custom Codecs</c8y-title>
<div class="row">
    <div class="col-sm-3"></div>
    <div class="tabContainer hidden-xs col-sm-9">
        <ul class="nav nav-tabs nav-tabsc8y">
            <li [class]="uplink">
                <a routerlinkactive="" title="Uplink" (click)="goToUplink()"><i class="fa fw fa-upload"></i><span class="txt">Uplink</span></a>
            </li>
            <li [class]="downlink">
                <a routerlinkactive="" title="Downlink" (click)="goToDownlink()"><i class="fa fw fa-download"></i><span
                        class="txt">Downlink</span></a>
            </li>
        </ul>
    </div>
</div>
<div class="row">
    <div class="card col-sm-3">
        <div class="card-block">
            <div class="form-group col-sm-12">
                <div class="c8y-select-wrapper">
                <label for="codec">Select Codec:</label>
                <select #codec class="form-control" (change)="changeCodec(codec.value)" [(ngModel)]="currentCodec">
                    <option *ngFor="let c of codecs | keyvalue" [value]="c.key">{{c.value.name}}</option>
                </select>
            </div>
            </div>
            <div class="form-group col-sm-12">
                <button type="button" class="btn btn-danger" (click)="removeCodec()">Remove current codec</button>
            </div>
            <div class="form-group col-sm-12">
                <label for="newCodec">New codec name:</label>
                <input #newCodec required placeholder="codec name"/>
            </div>
            <div class="form-group col-sm-12">
                <button type="button" class="btn btn-primary" (click)="createCodec(newCodec.value)">Add new codec</button>
            </div>
        </div>
    </div>
    <div class="card col-sm-9" *ngIf="uplink === 'active'">
        <div class="card-header" style="height: 60px">
            <h3>Decoding function</h3>
        </div>
        <div class="card-header separator" style="height: 40px;font-family: Consolas, 'Courier New', monospace; color: rgb(212, 212, 212); background-color: black;">
            decode(device: IManagedObject, fport: number, time: Date, payload: string): C8YData
        </div>
        <div class="card-block" style="overflow: visible">
            <div class="card" style="height: 400px">
                <ngx-monaco-editor style="height: 100%" [options]="editorOptions" [(ngModel)]="code">
                </ngx-monaco-editor>
            </div>
        </div>
        <div class="card-footer">
            <div class="form-group col-sm-12">
                <button type="button" class="btn btn-primary" (click)="saveDecoder()">Save codec</button>
            </div>
        </div>
    </div>
    <div class="card col-sm-9" *ngIf="downlink === 'active'">
        <div class="card-header separator" style="height: 100px">
            WIP
        </div>
        <div class="card-block" style="overflow: visible">
            <div class="card" style="height: 400px">
                <ngx-monaco-editor style="height: 100%" [options]="editorOptions" [(ngModel)]="code">
                </ngx-monaco-editor>
            </div>
        </div>
        <div class="card-footer">
            <div class="form-group col-sm-12">
                <button type="button" class="btn btn-primary">Save codec</button>
            </div>
        </div>
    </div>
</div>