import * as tslib_1 from "tslib";
import { Component, Input } from '@angular/core';
import { FormBuilder, FormGroup, Validators } from '@angular/forms';
import { gettext } from '@c8y/ngx-components';
import { get } from 'lodash-es';
import { BulkOperationType } from '../bulk/bulk-operation.model';
var OperationDetailsComponent = /** @class */ (function () {
    function OperationDetailsComponent(formBuilder) {
        var _a;
        this.formBuilder = formBuilder;
        this.titlePlaceholder = gettext('e.g. Reset factory settings');
        this.descriptionPlaceholder = gettext('e.g. Reset factory settings of all devices of model XYZ');
        this.placeholders = (_a = {},
            _a[BulkOperationType.SOFTWARE] = {
                title: gettext('e.g. Cloud connectivity software'),
                description: gettext('e.g. Cloud connectivity software applied to devices with type c8y_Linux`KEEP_ORIGINAL`')
            },
            _a[BulkOperationType.FIRMWARE] = {
                title: gettext('e.g. Firmware for hardware revision b'),
                description: gettext('e.g. Firmware for hardware revision b applied to devices with type c8y_Linux`KEEP_ORIGINAL`')
            },
            _a[BulkOperationType.CONFIGURATION] = {
                title: gettext('e.g. Host configuration c8y_Linux`KEEP_ORIGINAL`'),
                description: gettext('e.g. Host configuration applied to devices with type c8y_Linux`KEEP_ORIGINAL`')
            },
            _a[BulkOperationType.DEVICE_PROFILE] = {
                title: gettext('e.g. Device profile for c8y_Linux`KEEP_ORIGINAL` devices'),
                description: gettext('e.g. Device profile applied to devices with type c8y_Linux`KEEP_ORIGINAL`')
            },
            _a);
    }
    Object.defineProperty(OperationDetailsComponent.prototype, "bulkOperationType", {
        set: function (bulkOperationType) {
            this.titlePlaceholder = get(this.placeholders[bulkOperationType], 'title');
            this.descriptionPlaceholder = get(this.placeholders[bulkOperationType], 'description');
        },
        enumerable: true,
        configurable: true
    });
    OperationDetailsComponent.prototype.ngOnInit = function () {
        var config = {
            description: ['', Validators.required],
            note: [''],
            schedule: []
        };
        this.fgOperationDescription = this.formBuilder.group(config);
    };
    OperationDetailsComponent.ctorParameters = function () { return [
        { type: FormBuilder }
    ]; };
    tslib_1.__decorate([
        Input()
    ], OperationDetailsComponent.prototype, "bulkOperationType", null);
    OperationDetailsComponent = tslib_1.__decorate([
        Component({
            selector: 'c8y-operation-details',
            template: "<div [formGroup]=\"fgOperationDescription\">\n  <c8y-form-group>\n    <label translate>Title</label>\n    <input\n      formControlName=\"description\"\n      class=\"form-control\"\n      [placeholder]=\"titlePlaceholder | translate\"\n      required\n    />\n    <c8y-messages *ngIf=\"fgOperationDescription?.controls?.description?.errors\">\n      <c8y-message *ngIf=\"fgOperationDescription.controls.description.errors.required\" translate>\n        This field is required.\n      </c8y-message>\n    </c8y-messages>\n  </c8y-form-group>\n  <c8y-form-group>\n    <label translate>Description</label>\n    <textarea\n      formControlName=\"note\"\n      class=\"form-control\"\n      [placeholder]=\"descriptionPlaceholder | translate\"\n      rows=\"3\"\n    ></textarea>\n  </c8y-form-group>\n  <c8y-operation-scheduler formControlName=\"schedule\"></c8y-operation-scheduler>\n</div>\n"
        })
    ], OperationDetailsComponent);
    return OperationDetailsComponent;
}());
export { OperationDetailsComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3BlcmF0aW9uLWRldGFpbHMuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGM4eS9uZ3gtY29tcG9uZW50cy9vcGVyYXRpb25zLyIsInNvdXJjZXMiOlsiZGV0YWlscy9vcGVyYXRpb24tZGV0YWlscy5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFVLE1BQU0sZUFBZSxDQUFDO0FBQ3pELE9BQU8sRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3BFLE9BQU8sRUFBbUIsT0FBTyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDL0QsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUNoQyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQU9qRTtJQXdDRSxtQ0FBb0IsV0FBd0I7O1FBQXhCLGdCQUFXLEdBQVgsV0FBVyxDQUFhO1FBakM1QyxxQkFBZ0IsR0FBVyxPQUFPLENBQUMsNkJBQTZCLENBQUMsQ0FBQztRQUNsRSwyQkFBc0IsR0FBVyxPQUFPLENBQ3RDLHlEQUF5RCxDQUMxRCxDQUFDO1FBR00saUJBQVk7WUFDbEIsR0FBQyxpQkFBaUIsQ0FBQyxRQUFRLElBQUc7Z0JBQzVCLEtBQUssRUFBRSxPQUFPLENBQUMsa0NBQWtDLENBQUM7Z0JBQ2xELFdBQVcsRUFBRSxPQUFPLENBQ2xCLHdGQUF3RixDQUN6RjthQUNGO1lBQ0QsR0FBQyxpQkFBaUIsQ0FBQyxRQUFRLElBQUc7Z0JBQzVCLEtBQUssRUFBRSxPQUFPLENBQUMsdUNBQXVDLENBQUM7Z0JBQ3ZELFdBQVcsRUFBRSxPQUFPLENBQ2xCLDZGQUE2RixDQUM5RjthQUNGO1lBQ0QsR0FBQyxpQkFBaUIsQ0FBQyxhQUFhLElBQUc7Z0JBQ2pDLEtBQUssRUFBRSxPQUFPLENBQUMsa0RBQWtELENBQUM7Z0JBQ2xFLFdBQVcsRUFBRSxPQUFPLENBQ2xCLCtFQUErRSxDQUNoRjthQUNGO1lBQ0QsR0FBQyxpQkFBaUIsQ0FBQyxjQUFjLElBQUc7Z0JBQ2xDLEtBQUssRUFBRSxPQUFPLENBQUMsMERBQTBELENBQUM7Z0JBQzFFLFdBQVcsRUFBRSxPQUFPLENBQ2xCLDJFQUEyRSxDQUM1RTthQUNGO2dCQUNEO0lBRTZDLENBQUM7SUF0Q2hELHNCQUFJLHdEQUFpQjthQUFyQixVQUFzQixpQkFBb0M7WUFDeEQsSUFBSSxDQUFDLGdCQUFnQixHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLGlCQUFpQixDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDM0UsSUFBSSxDQUFDLHNCQUFzQixHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLGlCQUFpQixDQUFDLEVBQUUsYUFBYSxDQUFDLENBQUM7UUFDekYsQ0FBQzs7O09BQUE7SUFxQ0QsNENBQVEsR0FBUjtRQUNFLElBQU0sTUFBTSxHQUFzQztZQUNoRCxXQUFXLEVBQUUsQ0FBQyxFQUFFLEVBQUUsVUFBVSxDQUFDLFFBQVEsQ0FBQztZQUN0QyxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUM7WUFDVixRQUFRLEVBQUUsRUFBRTtTQUNiLENBQUM7UUFFRixJQUFJLENBQUMsc0JBQXNCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDL0QsQ0FBQzs7Z0JBVmdDLFdBQVc7O0lBdEM1QztRQURDLEtBQUssRUFBRTtzRUFJUDtJQUxVLHlCQUF5QjtRQUpyQyxTQUFTLENBQUM7WUFDVCxRQUFRLEVBQUUsdUJBQXVCO1lBQ2pDLHU0QkFBK0M7U0FDaEQsQ0FBQztPQUNXLHlCQUF5QixDQW1EckM7SUFBRCxnQ0FBQztDQUFBLEFBbkRELElBbURDO1NBbkRZLHlCQUF5QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRm9ybUJ1aWxkZXIsIEZvcm1Hcm91cCwgVmFsaWRhdG9ycyB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IEZvcm1Hcm91cENvbmZpZywgZ2V0dGV4dCB9IGZyb20gJ0BjOHkvbmd4LWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZ2V0IH0gZnJvbSAnbG9kYXNoLWVzJztcbmltcG9ydCB7IEJ1bGtPcGVyYXRpb25UeXBlIH0gZnJvbSAnLi4vYnVsay9idWxrLW9wZXJhdGlvbi5tb2RlbCc7XG5pbXBvcnQgeyBPcGVyYXRpb25EZXRhaWxzIH0gZnJvbSAnLi4vYnVsay9vcGVyYXRpb24tZGV0YWlscy5tb2RlbCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2M4eS1vcGVyYXRpb24tZGV0YWlscycsXG4gIHRlbXBsYXRlVXJsOiAnb3BlcmF0aW9uLWRldGFpbHMuY29tcG9uZW50Lmh0bWwnXG59KVxuZXhwb3J0IGNsYXNzIE9wZXJhdGlvbkRldGFpbHNDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICBASW5wdXQoKVxuICBzZXQgYnVsa09wZXJhdGlvblR5cGUoYnVsa09wZXJhdGlvblR5cGU6IEJ1bGtPcGVyYXRpb25UeXBlKSB7XG4gICAgdGhpcy50aXRsZVBsYWNlaG9sZGVyID0gZ2V0KHRoaXMucGxhY2Vob2xkZXJzW2J1bGtPcGVyYXRpb25UeXBlXSwgJ3RpdGxlJyk7XG4gICAgdGhpcy5kZXNjcmlwdGlvblBsYWNlaG9sZGVyID0gZ2V0KHRoaXMucGxhY2Vob2xkZXJzW2J1bGtPcGVyYXRpb25UeXBlXSwgJ2Rlc2NyaXB0aW9uJyk7XG4gIH1cblxuICB0aXRsZVBsYWNlaG9sZGVyOiBzdHJpbmcgPSBnZXR0ZXh0KCdlLmcuIFJlc2V0IGZhY3Rvcnkgc2V0dGluZ3MnKTtcbiAgZGVzY3JpcHRpb25QbGFjZWhvbGRlcjogc3RyaW5nID0gZ2V0dGV4dChcbiAgICAnZS5nLiBSZXNldCBmYWN0b3J5IHNldHRpbmdzIG9mIGFsbCBkZXZpY2VzIG9mIG1vZGVsIFhZWidcbiAgKTtcbiAgZmdPcGVyYXRpb25EZXNjcmlwdGlvbjogRm9ybUdyb3VwO1xuXG4gIHByaXZhdGUgcGxhY2Vob2xkZXJzOiB7IFtrZXkgaW4gQnVsa09wZXJhdGlvblR5cGVdOiB7IHRpdGxlOiBzdHJpbmc7IGRlc2NyaXB0aW9uOiBzdHJpbmcgfSB9ID0ge1xuICAgIFtCdWxrT3BlcmF0aW9uVHlwZS5TT0ZUV0FSRV06IHtcbiAgICAgIHRpdGxlOiBnZXR0ZXh0KCdlLmcuIENsb3VkIGNvbm5lY3Rpdml0eSBzb2Z0d2FyZScpLFxuICAgICAgZGVzY3JpcHRpb246IGdldHRleHQoXG4gICAgICAgICdlLmcuIENsb3VkIGNvbm5lY3Rpdml0eSBzb2Z0d2FyZSBhcHBsaWVkIHRvIGRldmljZXMgd2l0aCB0eXBlIGM4eV9MaW51eGBLRUVQX09SSUdJTkFMYCdcbiAgICAgIClcbiAgICB9LFxuICAgIFtCdWxrT3BlcmF0aW9uVHlwZS5GSVJNV0FSRV06IHtcbiAgICAgIHRpdGxlOiBnZXR0ZXh0KCdlLmcuIEZpcm13YXJlIGZvciBoYXJkd2FyZSByZXZpc2lvbiBiJyksXG4gICAgICBkZXNjcmlwdGlvbjogZ2V0dGV4dChcbiAgICAgICAgJ2UuZy4gRmlybXdhcmUgZm9yIGhhcmR3YXJlIHJldmlzaW9uIGIgYXBwbGllZCB0byBkZXZpY2VzIHdpdGggdHlwZSBjOHlfTGludXhgS0VFUF9PUklHSU5BTGAnXG4gICAgICApXG4gICAgfSxcbiAgICBbQnVsa09wZXJhdGlvblR5cGUuQ09ORklHVVJBVElPTl06IHtcbiAgICAgIHRpdGxlOiBnZXR0ZXh0KCdlLmcuIEhvc3QgY29uZmlndXJhdGlvbiBjOHlfTGludXhgS0VFUF9PUklHSU5BTGAnKSxcbiAgICAgIGRlc2NyaXB0aW9uOiBnZXR0ZXh0KFxuICAgICAgICAnZS5nLiBIb3N0IGNvbmZpZ3VyYXRpb24gYXBwbGllZCB0byBkZXZpY2VzIHdpdGggdHlwZSBjOHlfTGludXhgS0VFUF9PUklHSU5BTGAnXG4gICAgICApXG4gICAgfSxcbiAgICBbQnVsa09wZXJhdGlvblR5cGUuREVWSUNFX1BST0ZJTEVdOiB7XG4gICAgICB0aXRsZTogZ2V0dGV4dCgnZS5nLiBEZXZpY2UgcHJvZmlsZSBmb3IgYzh5X0xpbnV4YEtFRVBfT1JJR0lOQUxgIGRldmljZXMnKSxcbiAgICAgIGRlc2NyaXB0aW9uOiBnZXR0ZXh0KFxuICAgICAgICAnZS5nLiBEZXZpY2UgcHJvZmlsZSBhcHBsaWVkIHRvIGRldmljZXMgd2l0aCB0eXBlIGM4eV9MaW51eGBLRUVQX09SSUdJTkFMYCdcbiAgICAgIClcbiAgICB9XG4gIH07XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBmb3JtQnVpbGRlcjogRm9ybUJ1aWxkZXIpIHt9XG5cbiAgbmdPbkluaXQoKTogdm9pZCB7XG4gICAgY29uc3QgY29uZmlnOiBGb3JtR3JvdXBDb25maWc8T3BlcmF0aW9uRGV0YWlscz4gPSB7XG4gICAgICBkZXNjcmlwdGlvbjogWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcbiAgICAgIG5vdGU6IFsnJ10sXG4gICAgICBzY2hlZHVsZTogW11cbiAgICB9O1xuXG4gICAgdGhpcy5mZ09wZXJhdGlvbkRlc2NyaXB0aW9uID0gdGhpcy5mb3JtQnVpbGRlci5ncm91cChjb25maWcpO1xuICB9XG59XG4iXX0=