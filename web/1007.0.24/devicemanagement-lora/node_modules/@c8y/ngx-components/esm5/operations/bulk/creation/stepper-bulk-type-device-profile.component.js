import * as tslib_1 from "tslib";
import { Component } from '@angular/core';
import { gettext } from '@c8y/ngx-components';
import { get } from 'lodash-es';
import { BaseStepperComponent } from '../base-stepper.component';
var StepperBulkTypeDeviceProfile = /** @class */ (function (_super) {
    tslib_1.__extends(StepperBulkTypeDeviceProfile, _super);
    function StepperBulkTypeDeviceProfile() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    StepperBulkTypeDeviceProfile.prototype.goToConfirmSelection = function ($event) {
        this.deviceTypes = get(this.selectedDeviceProfile, 'c8y_Filter.type');
        $event.stepper.next();
    };
    StepperBulkTypeDeviceProfile.prototype.onDeviceProfileSelected = function (selectedItem) {
        this.selectedDeviceProfile = selectedItem;
    };
    StepperBulkTypeDeviceProfile.prototype.retrieveOperationPrototype = function () {
        return {
            name: gettext('Apply device profile'),
            description: get(this.selectedDeviceProfile, 'name'),
            prototype: {
                description: "Apply device profile: " + this.selectedDeviceProfile.name,
                profileId: this.selectedDeviceProfile.id,
                profileName: this.selectedDeviceProfile.name,
                c8y_DeviceProfile: this.selectedDeviceProfile.c8y_DeviceProfile
            }
        };
    };
    StepperBulkTypeDeviceProfile = tslib_1.__decorate([
        Component({
            selector: 'c8y-stepper-bulk-type-device-profile',
            template: "<c8y-bulk-operation-stepper>\n  <ng-container\n    *customStep=\"\n      'Select device profile' | translate; \n      completed: !!selectedDeviceProfile;\n      buttonsDisabled: !selectedDeviceProfile; \n      onNext: goToConfirmSelection.bind(this)\"\n  >\n    <c8y-select-device-profile-step\n      (deviceProfile)=\"onDeviceProfileSelected($event)\"\n      class=\"d-contents\"\n    ></c8y-select-device-profile-step>\n  </ng-container>\n  <ng-container *customStep=\"'Confirm selected device profile' | translate\">\n    <c8y-confirm-device-profile-selection-step\n      class=\"d-contents\"\n      [selectedDeviceProfile]=\"selectedDeviceProfile\"\n    ></c8y-confirm-device-profile-selection-step>\n  </ng-container>\n</c8y-bulk-operation-stepper>\n"
        })
    ], StepperBulkTypeDeviceProfile);
    return StepperBulkTypeDeviceProfile;
}(BaseStepperComponent));
export { StepperBulkTypeDeviceProfile };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RlcHBlci1idWxrLXR5cGUtZGV2aWNlLXByb2ZpbGUuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGM4eS9uZ3gtY29tcG9uZW50cy9vcGVyYXRpb25zLyIsInNvdXJjZXMiOlsiYnVsay9jcmVhdGlvbi9zdGVwcGVyLWJ1bGstdHlwZS1kZXZpY2UtcHJvZmlsZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFMUMsT0FBTyxFQUFjLE9BQU8sRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQzFELE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFDaEMsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFPakU7SUFBa0Qsd0RBQW9CO0lBQXRFOztJQXdCQSxDQUFDO0lBckJDLDJEQUFvQixHQUFwQixVQUFxQixNQUE4QztRQUNqRSxJQUFJLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMscUJBQXFCLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztRQUN0RSxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ3hCLENBQUM7SUFFRCw4REFBdUIsR0FBdkIsVUFBd0IsWUFBWTtRQUNsQyxJQUFJLENBQUMscUJBQXFCLEdBQUcsWUFBWSxDQUFDO0lBQzVDLENBQUM7SUFFUyxpRUFBMEIsR0FBcEM7UUFDRSxPQUFPO1lBQ0wsSUFBSSxFQUFFLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQztZQUNyQyxXQUFXLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxNQUFNLENBQUM7WUFDcEQsU0FBUyxFQUFHO2dCQUNWLFdBQVcsRUFBRSwyQkFBeUIsSUFBSSxDQUFDLHFCQUFxQixDQUFDLElBQU07Z0JBQ3ZFLFNBQVMsRUFBRSxJQUFJLENBQUMscUJBQXFCLENBQUMsRUFBRTtnQkFDeEMsV0FBVyxFQUFFLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJO2dCQUM1QyxpQkFBaUIsRUFBRSxJQUFJLENBQUMscUJBQXFCLENBQUMsaUJBQWlCO2FBQ3RDO1NBQzVCLENBQUM7SUFDSixDQUFDO0lBdkJVLDRCQUE0QjtRQUp4QyxTQUFTLENBQUM7WUFDVCxRQUFRLEVBQUUsc0NBQXNDO1lBQ2hELCt2QkFBOEQ7U0FDL0QsQ0FBQztPQUNXLDRCQUE0QixDQXdCeEM7SUFBRCxtQ0FBQztDQUFBLEFBeEJELENBQWtELG9CQUFvQixHQXdCckU7U0F4QlksNEJBQTRCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2RrU3RlcCB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9zdGVwcGVyJztcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSU1hbmFnZWRPYmplY3QsIElPcGVyYXRpb24gfSBmcm9tICdAYzh5L2NsaWVudCc7XG5pbXBvcnQgeyBDOHlTdGVwcGVyLCBnZXR0ZXh0IH0gZnJvbSAnQGM4eS9uZ3gtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBnZXQgfSBmcm9tICdsb2Rhc2gtZXMnO1xuaW1wb3J0IHsgQmFzZVN0ZXBwZXJDb21wb25lbnQgfSBmcm9tICcuLi9iYXNlLXN0ZXBwZXIuY29tcG9uZW50JztcbmltcG9ydCB7IE9wZXJhdGlvbkRldGFpbHMgfSBmcm9tICcuLi9vcGVyYXRpb24tZGV0YWlscy5tb2RlbCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2M4eS1zdGVwcGVyLWJ1bGstdHlwZS1kZXZpY2UtcHJvZmlsZScsXG4gIHRlbXBsYXRlVXJsOiAnc3RlcHBlci1idWxrLXR5cGUtZGV2aWNlLXByb2ZpbGUuY29tcG9uZW50Lmh0bWwnXG59KVxuZXhwb3J0IGNsYXNzIFN0ZXBwZXJCdWxrVHlwZURldmljZVByb2ZpbGUgZXh0ZW5kcyBCYXNlU3RlcHBlckNvbXBvbmVudCB7XG4gIHNlbGVjdGVkRGV2aWNlUHJvZmlsZTogSU1hbmFnZWRPYmplY3Q7XG5cbiAgZ29Ub0NvbmZpcm1TZWxlY3Rpb24oJGV2ZW50OiB7IHN0ZXBwZXI6IEM4eVN0ZXBwZXI7IHN0ZXA6IENka1N0ZXAgfSkge1xuICAgIHRoaXMuZGV2aWNlVHlwZXMgPSBnZXQodGhpcy5zZWxlY3RlZERldmljZVByb2ZpbGUsICdjOHlfRmlsdGVyLnR5cGUnKTtcbiAgICAkZXZlbnQuc3RlcHBlci5uZXh0KCk7XG4gIH1cblxuICBvbkRldmljZVByb2ZpbGVTZWxlY3RlZChzZWxlY3RlZEl0ZW0pIHtcbiAgICB0aGlzLnNlbGVjdGVkRGV2aWNlUHJvZmlsZSA9IHNlbGVjdGVkSXRlbTtcbiAgfVxuXG4gIHByb3RlY3RlZCByZXRyaWV2ZU9wZXJhdGlvblByb3RvdHlwZSgpOiBPcGVyYXRpb25EZXRhaWxzIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogZ2V0dGV4dCgnQXBwbHkgZGV2aWNlIHByb2ZpbGUnKSxcbiAgICAgIGRlc2NyaXB0aW9uOiBnZXQodGhpcy5zZWxlY3RlZERldmljZVByb2ZpbGUsICduYW1lJyksXG4gICAgICBwcm90b3R5cGU6ICh7XG4gICAgICAgIGRlc2NyaXB0aW9uOiBgQXBwbHkgZGV2aWNlIHByb2ZpbGU6ICR7dGhpcy5zZWxlY3RlZERldmljZVByb2ZpbGUubmFtZX1gLFxuICAgICAgICBwcm9maWxlSWQ6IHRoaXMuc2VsZWN0ZWREZXZpY2VQcm9maWxlLmlkLFxuICAgICAgICBwcm9maWxlTmFtZTogdGhpcy5zZWxlY3RlZERldmljZVByb2ZpbGUubmFtZSxcbiAgICAgICAgYzh5X0RldmljZVByb2ZpbGU6IHRoaXMuc2VsZWN0ZWREZXZpY2VQcm9maWxlLmM4eV9EZXZpY2VQcm9maWxlXG4gICAgICB9IGFzIHVua25vd24pIGFzIElPcGVyYXRpb25cbiAgICB9O1xuICB9XG59XG4iXX0=