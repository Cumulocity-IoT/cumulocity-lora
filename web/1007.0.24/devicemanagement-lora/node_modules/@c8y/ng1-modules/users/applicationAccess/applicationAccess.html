<div class="card-header" ng-show="marketApps.length">
  <span class="card-title h4" translate>Subscribed applications</span>
</div>
<hr style="margin-top:0; margin-bottom: 0;" ng-show="marketApps.length" />
<div class="card-block" ng-show="marketApps.length && disabledEdit && noOwnerAvailable()">
  <div class="alert alert-info" translate>
    You don’t have the permission required to manage application access for {{ user.userName }}.
  </div>
</div>

<ul class="list-group">
  <li class="list-group-item item-list-row" ng-repeat="application in marketApps">
    <span style="width:40px" class="text-center">
      <label class="c8y-checkbox">
        <input
          type="checkbox"
          id="{{ 'appmarket' + $index }}"
          ng-checked="isAccessAllowed(application)"
          ng-click="toggleAccess(application)"
          ng-disabled="isDisabled(application)"
        />
        <span></span>
      </label>
    </span>
    <div class="text-center" style="width:55px">
      <c8y-app-icon app="::application"></c8y-app-icon>
    </div>
    <label title="{{ ::application | humanizeAppName }}" for="{{ 'appmarket' + $index }}">
      {{::application | humanizeAppName}} <br />
      <small class="text-muted">{{::application.contextPath}}</small>
    </label>
    <div style="width:40px" class="text-center">
      <a
        href=""
        ng-show="alreadyInGlobalRole(application)"
        popover-append-to-body="true"
        popover-placement="right auto"
        popover-trigger="'focus'"
        uib-popover="{{
          'This application is already made available in a global role' | translate
        }}"
      >
        <i c8y-icon="info-circle"></i>
      </a>
      <a
        href=""
        class="text-warning"
        ng-show="notAvailableInOwner(application) && !alreadyInGlobalRole(application)"
        popover-append-to-body="true"
        popover-placement="right auto"
        popover-trigger="'focus'"
        uib-popover="{{ 'This application is not accessible by the owner.' | translate }}"
      >
        <i c8y-icon="exclamation-circle"></i>
      </a>
    </div>
  </li>
</ul>

<div class="card-header" ng-show="privateApps.length">
  <span class="card-title h4" translate>Custom applications</span>
  <a
    href=""
    uib-popover-html="'Applications owned <br>by your tenant' | translate"
    popover-append-to-body="true"
    popover-placement="right auto"
    popover-trigger="'focus'"
  >
    <i c8y-icon="question-circle-o"></i>
  </a>
</div>
<hr style="margin-top:0; margin-bottom: 0;" ng-show="privateApps.length" />
<div class="card-block" ng-show="privateApps.length && disabledEdit && noOwnerAvailable()">
  <div class="alert alert-info" translate>
    You don’t have the permission required to manage application access for {{ user.userName }}.
  </div>
</div>
<ul class="list-group" style="margin-bottom:20px;">
  <li class="list-group-item item-list-row" ng-repeat="application in privateApps">
    <span style="width:40px" class="text-center">
      <label class="c8y-checkbox">
        <input
          type="checkbox"
          id="{{ 'appprivate' + $index }}"
          ng-checked="isAccessAllowed(application)"
          ng-click="toggleAccess(application)"
          ng-disabled="isDisabled(application)"
        />
        <span></span>
      </label>
    </span>
    <div class="text-center" style="width:50px">
      <c8y-app-icon app="::application"></c8y-app-icon>
    </div>
    <label title="{{ ::application | humanizeAppName }}" for="{{ 'appprivate' + $index }}">
      {{::application | humanizeAppName}}<br />
      <small class="text-muted">{{::application.contextPath}}</small>
    </label>
    <div style="width:40px" class="text-center" ng-show="alreadyInGlobalRole(application)">
      <i
        c8y-icon="info-circle"
        class="text-info"
        popover-append-to-body="true"
        popover-placement="right auto"
        popover-trigger="'focus'"
        uib-popover="{{ 'This application is already made available in a global role' }}"
      >
      </i>
    </div>
  </li>
</ul>
